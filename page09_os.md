计算机系统原理



## 平滑重启的原理



```
平滑重启php-fpm
kill -USR2 `cat /usr/local/php/var/run/php-fpm.pid`
```



go程和线程有什么区别？

答：起一个go程大概只需要4kb的内存，起一个Java线程需要1.5MB的内存；go程的调度在用户态非常轻量，Java线程的切换成本比较高。

接着问为啥成本比较高？因为Java线程的调度需要在用户态和内核态切换所以成本高？为啥在用户态和内核态之间切换调度成本比较高？我简单说了下内核态和用户态的定义。

https://blog.csdn.net/JH_Zhai/article/details/79861169



## 用户态和核心态有什么区别？



## 内核线程和用户线程的区别？协程





## 用户栈和内核栈有什么区别？



## 什么是进程？

系统进行资源分配和调度的一个独立单位。进程有独立的内存空间等系统为其分配的资源。



## 线程的优点：

易于调度

提高并发性

开销比进程小

有利于发挥多处理器的功能

​	单核的多线程也是顺序执行的，因为线程切换需要时间，所以效率并不高



## 什么时候该使用多线程呢？这要分四种情况讨论：

a.多核CPU——计算密集型任务。此时要尽量使用多线程，可以提高任务执行效率，例如加密解密，数据压缩解压缩（视频、音频、普通数据），否则只能使一个核心满载，而其他核心闲置。

b.单核CPU——计算密集型任务。此时的任务已经把CPU资源100%消耗了，就没必要也不可能使用多线程来提高计算效率了；相反，如果要做人机交互，最好还是要用多线程，避免用户没法对计算机进行操作。

c.单核CPU——IO密集型任务，使用多线程还是为了人机交互方便，

d.多核CPU——IO密集型任务，这就更不用说了，跟单核时候原因一样



## 进程间的通信方式（IPC）进程调度方法



## 线程间通信的方式？

锁机制

信号量机制

信号机制





## 操作系统由哪些部分组成？





## 用户态和系统态在什么时候进行切换？平时64系统和32系统有什么区别和优点







## 选一个你熟悉的磁盘臂调度算法进行简述

1、先来先服务

2、最短寻道时间优先

3、SCAN算法

4、CSCAN算法



## 进程和线程的区别？





## 操作系统的换页方法？



## 操作系统的内存管理有哪几种方式？

1、块式管理

2、页式管理

3、段式管理



## Cache替换算法有哪些？

RAND算法

FIFO算法

 LRU算法

OPT算法 最优替换算法

LFU 最不常使用淘汰算法





## 线程同步的机制？

1、临界区

2、互斥量

3、信号量

4、事件







压力测试的工具有哪些？

ab

sysbench